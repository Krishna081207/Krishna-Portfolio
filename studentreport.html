<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Student Report System</title>
  <style>
  body {
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(to bottom right, #fff89a, #ffe066);
  padding: 20px;
  max-width: 800px;
  margin: auto;
  position: relative;
  overflow-x: hidden;
}

h1 {
  text-align: center;
  color: #333;
  text-shadow: 1px 1px 2px #f5f5f5;
}

form, .actions {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}

input, select, button {
  padding: 10px;
  font-size: 16px;
  border-radius: 5px;
  border: 1px solid #ccc;
  transition: all 0.3s ease;
}

input:focus, select:focus {
  border-color: #ffcc00;
  box-shadow: 0 0 5px #ffcc00;
}

button {
  background: #ffb703;
  color: white;
  border: none;
  cursor: pointer;
  font-weight: bold;
}

button:hover {
  background: #fb8500;
  transform: scale(1.05);
}

pre {
  background: #fff;
  padding: 15px;
  border: 1px solid #ccc;
  white-space: pre-wrap;
  border-radius: 5px;
}

/* ✏️ Pencil animation */
.pencil {
  position: absolute;
  top: 20px;
  left: -100px;
  width: 80px;
  animation: floatPencil 12s linear infinite;
  z-index: 0;
}

@keyframes floatPencil {
  0% { left: -100px; transform: rotate(0deg); }
  50% { transform: rotate(10deg); }
  100% { left: 100%; transform: rotate(0deg); }
}
</style>
</head>
<body>
  <h1>Student Report System</h1>

  <form id="studentForm">
    <input type="number" id="id" placeholder="ID" required />
    <input type="text" id="name" placeholder="Name" required />
    <input type="number" id="age" placeholder="Age" required />
    <input type="number" step="0.01" id="marks" placeholder="Marks" required />
    <select id="extraType">
      <option value="0">Grade</option>
      <option value="1">CGPA</option>
    </select>
    <input type="text" id="extra" placeholder="Grade or CGPA" required />
    <button type="submit">Add Student</button>
  </form>

  <div class="actions">
    <button onclick="listStudents()">List Students</button>
    <button onclick="saveToLocal()">Save</button>
    <button onclick="loadFromLocal()">Load</button>
  </div>

  <input type="number" id="searchId" placeholder="Search by ID" />
  <button onclick="searchStudent()">Search</button>

  <input type="number" id="deleteId" placeholder="Delete by ID" />
  <button onclick="deleteStudent()">Delete</button>

  <pre id="output"></pre>

  <script>
    let students = [];

    document.getElementById("studentForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const id = parseInt(document.getElementById("id").value);
      const name = document.getElementById("name").value;
      const age = parseInt(document.getElementById("age").value);
      const marks = parseFloat(document.getElementById("marks").value);
      const extraType = parseInt(document.getElementById("extraType").value);
      const extraInput = document.getElementById("extra").value;

      const extra = extraType === 0 ? { grade: extraInput } : { cgpa: parseFloat(extraInput) };
      students.push({ id, name, age, marks, extraType, extra });

      document.getElementById("studentForm").reset();
      showOutput(`Student added. Total = ${students.length}`);
    });

    function listStudents() {
      if (students.length === 0) return showOutput("No students to show.");
      let output = `List of students (total=${students.length}):\n`;
      students.forEach((s, i) => {
        const extraInfo = s.extraType === 0 ? `grade=${s.extra.grade}` : `cgpa=${s.extra.cgpa.toFixed(2)}`;
        output += `${i + 1}) id=${s.id} name="${s.name}" age=${s.age} marks=${s.marks.toFixed(2)} ${extraInfo}\n`;
      });
      showOutput(output);
    }

    function saveToLocal() {
      localStorage.setItem("students", JSON.stringify(students));
      showOutput(`Saved ${students.length} students to localStorage.`);
    }

    function loadFromLocal() {
      const data = localStorage.getItem("students");
      students = data ? JSON.parse(data) : [];
      showOutput(`Loaded ${students.length} students from localStorage.`);
    }

    function searchStudent() {
      const id = parseInt(document.getElementById("searchId").value);
      const s = students.find(stu => stu.id === id);
      if (!s) return showOutput(`Student with id=${id} not found.`);
      const extraInfo = s.extraType === 0 ? `grade=${s.extra.grade}` : `cgpa=${s.extra.cgpa.toFixed(2)}`;
      showOutput(`Found: id=${s.id} name="${s.name}" age=${s.age} marks=${s.marks.toFixed(2)} ${extraInfo}`);
    }

    function deleteStudent() {
      const id = parseInt(document.getElementById("deleteId").value);
      const index = students.findIndex(s => s.id === id);
      if (index === -1) return showOutput("Not found.");
      students.splice(index, 1);
      showOutput(`Deleted. Total now ${students.length}`);
    }

    function showOutput(text) {
      document.getElementById("output").textContent = text;
    }
  </script>
</body>
</html>